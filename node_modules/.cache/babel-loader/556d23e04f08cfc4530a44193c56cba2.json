{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\srini\\\\OneDrive\\\\Desktop\\\\vedenta\\\\vedanta-multi-sensor\\\\src\\\\pages\\\\dashboard\\\\Dashboard.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"../dashboard/dashboard.scss\";\nimport PopupDashboard from \"../../components/popup_dashboard/PopupDashboard\";\nimport Peak from \"./Peak\";\nimport NonActive from \"./NonActive\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Dashboard = () => {\n  _s();\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedWaveGuide, setSelectedWaveGuide] = useState(false);\n  const [info, setInfo] = useState([]);\n  const [error, setError] = useState(false);\n  const [peak, setPeak] = useState([]);\n  const [nonActive, setNonActive] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(\"http://localhost:4000/sensor/updated\");\n        const infoVal = await response.json();\n        setInfo(infoVal);\n      } catch (error) {\n        setError(error);\n      }\n    };\n\n    const interval = setInterval(() => {\n      fetchData();\n    }, 1000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n  useEffect(() => {\n    const sensorArray = [];\n    const nonActivelist = [];\n\n    for (let index = 1; index <= 108; index++) {\n      var _info$;\n\n      const sensor = `sensor${index}`;\n      const sensorName = `CBT${index}`;\n      const val = (_info$ = info[0]) === null || _info$ === void 0 ? void 0 : _info$[sensor];\n      sensorArray.push({\n        sensor,\n        sensorName,\n        val\n      });\n\n      if (val === 0) {\n        nonActivelist.push({\n          sensorName\n        });\n      }\n    }\n\n    setNonActive(nonActivelist);\n    const descending = sensorArray.sort((a, b) => b.val - a.val);\n    setPeak(descending.slice(0, 5));\n  }, [info]);\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (!info) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this);\n  }\n\n  const handleWaveGuideClick = waveGuideNumber => {\n    setSelectedWaveGuide(waveGuideNumber);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box bg-slate-200\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(1);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT1-CBT10)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(2);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT11-CBT20)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(3);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT21-CBT30)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(4);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT31-CBT40)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(5);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT41-CBT50)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(6);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT51-CBT60)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(7);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT61-CBT70)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(8);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT71-CBT80)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(9);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT81-CBT90)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(10);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT91-CBT100)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        onClick: () => {\n          setIsOpen(true);\n          handleWaveGuideClick(11);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"waveGuide 11\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"(CBT101-CBT108)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PopupDashboard, {\n        open_dash: isOpen,\n        onClose: () => setIsOpen(false),\n        waveGuide: selectedWaveGuide\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottom\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"peak\",\n        children: /*#__PURE__*/_jsxDEV(Peak, {\n          Peak: peak\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 31\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nonactive w-1/3 \",\n        children: /*#__PURE__*/_jsxDEV(NonActive, {\n          nonActive: nonActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Dashboard, \"zH0QHKw96o5seCqaZzU1ubwbNqI=\");\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["C:/Users/srini/OneDrive/Desktop/vedenta/vedanta-multi-sensor/src/pages/dashboard/Dashboard.jsx"],"names":["React","useState","useEffect","PopupDashboard","Peak","NonActive","Dashboard","isOpen","setIsOpen","selectedWaveGuide","setSelectedWaveGuide","info","setInfo","error","setError","peak","setPeak","nonActive","setNonActive","fetchData","response","fetch","infoVal","json","interval","setInterval","clearInterval","sensorArray","nonActivelist","index","sensor","sensorName","val","push","descending","sort","a","b","slice","message","handleWaveGuideClick","waveGuideNumber"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../dashboard/dashboard.scss\";\r\nimport PopupDashboard from \"../../components/popup_dashboard/PopupDashboard\";\r\nimport Peak from \"./Peak\";\r\nimport NonActive from \"./NonActive\";\r\n\r\nconst Dashboard = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selectedWaveGuide, setSelectedWaveGuide] = useState(false);\r\n\r\n  const [info, setInfo] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const [peak, setPeak] = useState([]);\r\n  const [nonActive, setNonActive] = useState([]);\r\n\r\n  useEffect(() => {\r\n    \r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:4000/sensor/updated\");\r\n        const infoVal = await response.json();\r\n        setInfo(infoVal);\r\n      } catch (error) {\r\n        setError(error);\r\n      }\r\n    };\r\n    const interval = setInterval(() => {\r\n      fetchData();\r\n    }, 1000);\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n  const sensorArray = [];\r\n  const nonActivelist = [];\r\n  for (let index = 1; index <= 108; index++) {\r\n    const sensor = `sensor${index}`;\r\n    const sensorName = `CBT${index}`;\r\n    const val = info[0]?.[sensor];\r\n    sensorArray.push({sensor, sensorName, val});\r\n    if(val === 0) {\r\n      nonActivelist.push({sensorName});\r\n    }\r\n  }\r\n  setNonActive(nonActivelist);\r\n  const descending = sensorArray.sort((a, b) => b.val - a.val);\r\n  setPeak (descending.slice(0, 5));\r\n  },[info]);\r\n\r\n  if (error) {\r\n    return <div>Error: {error.message}</div>;\r\n  }\r\n  if (!info) {\r\n    return <div>Loading...</div>;\r\n  }\r\n  const handleWaveGuideClick = (waveGuideNumber) => {\r\n    setSelectedWaveGuide(waveGuideNumber);\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <div className=\"top\">\r\n        <div\r\n          className=\"box bg-slate-200\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(1);\r\n          }}\r\n        >\r\n          <h3>waveGuide 1</h3>\r\n          <span className=\"text-sm\">(CBT1-CBT10)</span>\r\n        </div>\r\n        <div\r\n          className=\"box\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(2);\r\n          }}\r\n        >\r\n          <h3>waveGuide 2</h3>\r\n          <span className=\"text-sm\">(CBT11-CBT20)</span>\r\n        </div>\r\n        <div\r\n          className=\"box\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(3);\r\n          }}\r\n        >\r\n          <h3>waveGuide 3</h3>\r\n          <span className=\"text-sm\">(CBT21-CBT30)</span>\r\n        </div>\r\n        <div\r\n          className=\"box\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(4);\r\n          }}\r\n        >\r\n          <h3>waveGuide 4</h3>\r\n          <span className=\"text-sm\">(CBT31-CBT40)</span>\r\n        </div>\r\n        <div\r\n          className=\"box\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(5);\r\n          }}\r\n        >\r\n          <h3>waveGuide 5</h3>\r\n          <span className=\"text-sm\">(CBT41-CBT50)</span>\r\n        </div>\r\n        <div\r\n          className=\"box\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(6);\r\n          }}\r\n        >\r\n          <h3>waveGuide 6</h3>\r\n          <span className=\"text-sm\">(CBT51-CBT60)</span>\r\n        </div>\r\n        <div\r\n          className=\"box\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(7);\r\n          }}\r\n        >\r\n          <h3>waveGuide 7</h3>\r\n          <span className=\"text-sm\">(CBT61-CBT70)</span>\r\n        </div>\r\n        <div\r\n          className=\"box\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(8);\r\n          }}\r\n        >\r\n          <h3>waveGuide 8</h3>\r\n          <span className=\"text-sm\">(CBT71-CBT80)</span>\r\n        </div>\r\n        <div\r\n          className=\"box\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(9);\r\n          }}\r\n        >\r\n          <h3>waveGuide 9</h3>\r\n          <span className=\"text-sm\">(CBT81-CBT90)</span>\r\n        </div>\r\n        <div\r\n          className=\"box\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(10);\r\n          }}\r\n        >\r\n          <h3>waveGuide 10</h3>\r\n          <span className=\"text-sm\">(CBT91-CBT100)</span>\r\n        </div>\r\n        <div\r\n          className=\"box\"\r\n          onClick={() => {\r\n            setIsOpen(true);\r\n            handleWaveGuideClick(11);\r\n          }}\r\n        >\r\n          <h3>waveGuide 11</h3>\r\n          <span className=\"text-sm\">(CBT101-CBT108)</span>\r\n        </div>\r\n        {/* <div className=\"box hide\">\r\n          <h3>waveGuide 12</h3>\r\n        </div>\r\n        <div className=\"box hide\">\r\n          <h3>waveGuide 13</h3>\r\n        </div>\r\n        <div className=\"box hide\">\r\n          <h3>waveGuide 14</h3>\r\n        </div>\r\n        <div className=\"box hide\">\r\n          <h3>waveGuide 15</h3>\r\n        </div> */}\r\n\r\n        <PopupDashboard\r\n          open_dash={isOpen}\r\n          onClose={() => setIsOpen(false)}\r\n          waveGuide={selectedWaveGuide}\r\n        />\r\n\r\n      </div>\r\n\r\n      <div className=\"bottom\">\r\n        <div className=\"peak\"><Peak Peak={peak}/></div>\r\n        <div className=\"nonactive w-1/3 \"><NonActive nonActive={nonActive} /></div>\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}